{"version":3,"file":"js/8504.74ec7d8c.js","mappings":"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","sources":["webpack://client/./node_modules/@arcgis/core/views/support/colorUtils.js","webpack://client/./node_modules/@arcgis/core/symbols/support/previewSymbol2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(r){await r.whenReady();const n=r.basemapView.baseLayerViews.map((t=>t.layer));if(!n.length){const n=getComputedStyle(r.container).backgroundColor,a=n&&new t(n);return r.get(\"background.color\")||(a&&0!==a.a?a:null)||null}const a=(await r.takeScreenshot({format:\"png\",layers:n.toArray()})).data.data,o=a.length;let e=0,u=0,l=0,c=0,s=0,i=0;for(let t=0;t<o;t+=4){const r=a[t],n=a[t+1],o=a[t+2],h=a[t+3],d=h/255;e+=r*r*d,u+=n*n*d,l+=o*o*d,s+=d,h&&(c+=h,i++)}e=Math.round(Math.sqrt(e/s)),u=Math.round(Math.sqrt(u/s)),l=Math.round(Math.sqrt(l/s));return new t([e,u,l,c/i/255])}async function a(t){if(!t)return null;const a=await n(t);return r(a)?o(a):null}function o(t){return e(t).isBright?\"light\":\"dark\"}function e(r){let{r:n,g:a,b:o,a:e}=r;return e<1&&(n=Math.round(e*n+255*(1-e)),a=Math.round(e*a+255*(1-e)),o=Math.round(e*o+255*(1-e))),new t({r:n,g:a,b:o})}function u(t){const{r,g:n,b:a}=e(t);return.2126*r+.7152*n+.0722*a}export{n as getBackgroundColor,a as getBackgroundColorTheme,u as getColorLuminance,o as getColorTheme};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import t from\"../../core/Error.js\";import{pt2px as a,px2pt as n}from\"../../core/screenUtils.js\";import{getFill as l,getStroke as s,getPatternUrlWithColor as o}from\"./gfxUtils.js\";import{SymbolSizeDefaults as i,shapes as c,adjustColorBrightness as r}from\"./previewUtils.js\";import{renderSymbol as m}from\"./renderUtils.js\";import{getColorLuminance as u}from\"../../views/support/colorUtils.js\";const h=\"picture-fill\",p=\"picture-marker\",d=\"simple-fill\",f=\"simple-line\",y=\"simple-marker\",v=\"text\",w=\"Aa\",g=i.size,b=i.maxSize,M=i.maxOutlineSize,k=i.lineWidth,x=225,z=document.createElement(\"canvas\");function L(e,t){const a=z.getContext(\"2d\"),n=[];return t&&(t.weight&&n.push(t.weight),t.size&&n.push(t.size+\"px\"),t.family&&n.push(t.family)),a.font=n.join(\" \"),a.measureText(e).width}const j=7.2/2.54,C=72/2.54;function S(e){if(0===e.length)return 0;if(e.length>2){const t=n(1),a=parseFloat(e);switch(e.slice(-2)){case\"px\":return a;case\"pt\":return a*t;case\"in\":return 72*a*t;case\"pc\":return 12*a*t;case\"mm\":return a*j*t;case\"cm\":return a*C*t}}return parseFloat(e)}function F(e){const t=e?.size;return{width:null!=t&&\"object\"==typeof t&&\"width\"in t?a(t.width):null,height:null!=t&&\"object\"==typeof t&&\"height\"in t?a(t.height):null}}async function U(e,t){const a=t.fill,n=e.color;if(\"pattern\"===a?.type&&n&&e.type!==h){const e=await o(a.src,n.toCss(!0));a.src=e,t.fill=a}}function E(e,t){return e>t?\"dark\":\"light\"}function Z(e,t){const n=\"number\"==typeof t?.size?t?.size:null,o=null!=n?a(n):null,i=null!=t?.maxSize?a(t.maxSize):null,r=null!=t?.rotation?t.rotation:\"angle\"in e?e.angle:null,m=l(e);let u=s(e);\"dark\"!==D(e,245)||t?.ignoreWhiteSymbols||(u={width:.75,...u,color:\"#bdc3c7\"});const x={shape:null,fill:m,stroke:u,offset:[0,0]};u?.width&&(u.width=Math.min(u.width,M));const z=u?.width||0;let j=null!=t?.size&&(null==t?.scale||t?.scale),C=0,U=0,E=!1;switch(e.type){case y:{const t=e.style,n=Math.min(null!=o?o:a(e.size),i||b);switch(C=n,U=n,t){case\"circle\":x.shape={type:\"circle\",cx:0,cy:0,r:.5*n},j||(C+=z,U+=z);break;case\"cross\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*U]},{command:\"L\",values:[C,.5*U]},{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[.5*C,U]}]};break;case\"diamond\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*U]},{command:\"L\",values:[.5*C,0]},{command:\"L\",values:[C,.5*U]},{command:\"L\",values:[.5*C,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z);break;case\"square\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z),r&&(E=!0);break;case\"triangle\":x.shape={type:\"path\",path:[{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z),r&&(E=!0);break;case\"x\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,U]},{command:\"M\",values:[C,0]},{command:\"L\",values:[0,U]}]},r&&(E=!0);break;case\"path\":x.shape={type:\"path\",path:e.path||\"\"},j||(C+=z,U+=z),r&&(E=!0),j=!0}break}case f:{const{width:e,height:a}=F(t),n=null!=a?a:Math.min(null!=o?o:z,i||M),l=null!=e?e:k;u.width=n,C=l,U=n;const s=x?.stroke?.cap||\"butt\",c=\"round\"===s;j=!0,x.stroke.cap=\"butt\"===s?\"square\":s,x.shape={type:\"path\",path:[{command:\"M\",values:[c?n/2:0,U/2]},{command:\"L\",values:[c?C-n/2:C,U/2]}]};break}case h:case d:{const e=\"object\"==typeof t?.symbolConfig&&t?.symbolConfig.isSquareFill,{width:a,height:n}=F(t);C=e&&null!=a?a:null!=o?o:g,U=e&&null!=n?n:C,j||(C+=z,U+=z),j=!0,x.shape=e?{type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"L\",values:[0,0]},{command:\"Z\",values:[]}]}:c.fill[0];break}case p:{let t=a(e.width),n=a(e.height);const l=null!=o?o:Math.max(t,n),s=t/n;t=s<=1?Math.ceil(l*s):l,n=s<=1?l:Math.ceil(l/s),C=Math.min(t,i||b),U=Math.min(n,i||b),x.shape={type:\"image\",x:-Math.round(C/2),y:-Math.round(U/2),width:C,height:U,src:e.url||\"\"},r&&(E=!0);break}case v:{const t=e,n=t.text||w,l=t.font,s=Math.min(null!=o?o:a(l.size),i||b),c=L(n,{weight:l.weight,size:s,family:l.family}),r=/[\\uE600-\\uE6FF]/.test(n);C=r?s:c,U=s;let m=.25*S((l?s:0).toString());r&&(m+=5),x.shape={type:\"text\",text:n,x:t.xoffset||0,y:t.yoffset||m,align:\"middle\",alignBaseline:t.verticalAlignment,decoration:l&&l.decoration,rotated:t.rotated,kerning:t.kerning},x.font=l&&{size:s,style:l.style,decoration:l.decoration,weight:l.weight,family:l.family};break}}return{shapeDescriptor:x,size:[C,U],renderOptions:{node:t?.node,scale:j,opacity:t?.opacity,rotation:r,useRotationSize:E,effectView:t?.effectView}}}async function q(e,a){const{shapeDescriptor:n,size:l,renderOptions:s}=Z(e,a);if(!n.shape)throw new t(\"symbolPreview: renderPreviewHTML2D\",\"symbol not supported.\");await U(e,n);const o=[[n]];if(\"object\"==typeof a?.symbolConfig&&a?.symbolConfig.applyColorModulation){const e=.6*l[0];o.unshift([{...n,offset:[-e,0],fill:r(n.fill,-.3)}]),o.push([{...n,offset:[e,0],fill:r(n.fill,.3)}]),l[0]+=2*e,s.scale=!1}return m(o,l,s)}function D(t,a=x){const n=l(t),o=s(t),i=!n||\"type\"in n?null:new e(n),c=o?.color?new e(o?.color):null,r=i?E(u(i),a):null,m=c?E(u(c),a):null;return m?r?r===m?r:a>=x?\"light\":\"dark\":m:r}export{D as getContrastingBackgroundTheme,Z as getRenderSymbolParameters,q as previewSymbol2D};\n"],"names":["e","r","n","g","a","b","o","Math","round","u","t","h","p","d","f","y","v","w","M","k","x","z","document","createElement","L","getContext","weight","push","size","family","font","join","measureText","width","j","C","S","length","parseFloat","slice","F","height","async","U","fill","color","type","src","toCss","E","Z","i","maxSize","rotation","angle","m","D","ignoreWhiteSymbols","shape","stroke","offset","min","scale","style","cx","cy","path","command","values","l","s","cap","c","symbolConfig","isSquareFill","max","ceil","url","text","test","toString","xoffset","yoffset","align","alignBaseline","verticalAlignment","decoration","rotated","kerning","shapeDescriptor","renderOptions","node","opacity","useRotationSize","effectView","q","applyColorModulation","unshift"],"sourceRoot":""}